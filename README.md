## gbloader

This repository contains a bulk mod-to-file matching mechanism written in Python, as well as a metadata fetcher made for the mod manager [JASM](https://github.com/Jorixon/JASM/).

It works by using a CSV of mod URLs to map an array to store metadata for each mod, using a nested struct to store the data. You must import the mods into JASM **prior** to using this, as the JASM config must contain the `Id` uuid key to be recognized by JASM. Since the `.JASM_ModConfig.json` is autogenerated upon import, this script assumes it is already there. We use the GameBanana api to get the metadata, as well as all the filenames uploaded under that mod. Since we do not know which file you decided to download from the mod (or if you downloaded multiple), we must reverse-engineer the lists of filenames you downloaded and the list of all possible filenames you could have downloaded (matched with which mod each of the filenames belongs to) to match them together. We do this with a dictionary lookup for $$O(1)$$ efficiency, and do some simple path matching to find the `.json` and fill in its data.

It is recommended to follow this workflow if you plan to use this script:
- Make backups of your downloaded mod files (preferably the zipped files).
- Import the mods into the JASM mod folder without adding the metadata.
  - E.g using 7-zip to import them manually instead of doing it in-app.
- Add the URLs of **all** the mods you are going to be using the script on to `load.txt`, comma separated.
- Run the script in the highest-level directory that contains all the mod folders.
  - Make sure that the mod folders are named EXACTLY as they are listed on the mod page! This includes file extensions! If the mod page lists `modname_v1.1.zip`, your folder MUST be named `modname_v1.1.zip`! 7-Zip can do this easily with a `*` pattern.
- Troubleshoot if necessary based on the logs.
